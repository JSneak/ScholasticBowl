<!DOCTYPE HTML>
<html>
<head>
	<title> Client </title>
    <style>
        p.hidden{
            display: none;
        }
        p.visible{
            display: block;
        }
		h2.hidden{
            display: none;
        }
        h2.visible{
            display: block;
        }
	</style>
	<!--<script src="test.js"></script>-->
	<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>-->
	<script src="http://cdn.socket.io/socket.io-1.4.0.js"></script>
	<script>
		var socket = io.connect('http://localhost:3000/')
		var SessionCode;
		var playerCount = 0; //sets from server
		var UserName = "";
		var Code;
		var Team;
		//The things still dissapear when the code is false
		function JoinSession()
		{
			document.getElementById("Screen1").className = "hidden"
			document.getElementById("Screen2").className = "hidden"
			document.getElementById("JoinServer").innerHTML = "People in Session"
			UserName = document.getElementById("name").value;
			Code = document.getElementById("code").value;
			Team = document.getElementById("teamNum").value;
			var Data = {
				dataName: UserName,
				dataCode: Code,
				dataTeam: Team
			};
			socket.emit('join session', Data);
		}
		
		socket.on('user recieve code', function(data){
			SessionCode = data.Code;
		});
		
		socket.on("displayName", function(data) {
			if(SessionCode == data.Code)
			{
				playersInGame = data.List;
				playerCount++;
				document.getElementById("display").innerHTML = data.List;
			}
		});
		
		socket.on("Bad Code", function(data){
			alert("Code is invalid")
			document.getElementById("Screen1").className = "visible"
			document.getElementById("JoinServer").className = "visible"
		});
		
		socket.on("start session", function(data) {
			if(SessionCode = data.Code)
			{
			document.getElementById("Screen2").class = "visible";
			document.getElementById("Submit").onclick = function(){Buzz()}
			}
		});
		
		socket.on("restrict", function(data) {
			if(SessionCode = data.Code)
			{
			
			}
		});
		
		function Buzz()
		{
		
		socket.emit("buzz event", Data)
		}
//-------------------------------------------------------------------------------------		
//-------------------------------------------------------------------------------------			
//Make a form tag for the button
	</script>
</head>
<body>
<h2 id="JoinServer" class="visible">JOIN SERVER</h2>
<form>
<p id="Screen1" class="visible">
  Name:<br>
  <input type="text" id="name"><br>
  Session Code:<br>
  <input type="text" id="code"><br>
  Team Number:<br>
  <input type="number" id="teamNum" min="0"><br>
  </p>
 <p id="Screen2" class="visible">
   <input type="button" value="Submit" onClick="JoinSession()">
 </p>
</form>
<p id="display"></p> 
<!-- This is battle form -->

<p id="display"></p> 
</body>
 <!--<button id="button1" onclick="changebutton1()">Click me to attack</button> </form>-->
</html>


